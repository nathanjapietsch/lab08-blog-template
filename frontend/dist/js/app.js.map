{"version":3,"sources":["../deps/node_modules/browser-pack/_prelude.js","src/client.js","src/components/DevTools.js","src/components/Home.js","src/components/Post.js","src/components/PostEdit.js","src/components/PostList.js","src/components/PostNew.js","src/components/PostView.js","src/components/Root.js","src/helpers/ajax.js","src/helpers/api.js","src/helpers/createActionDispatchers.js","src/helpers/createStore.js","src/reducers/index.js","src/reducers/posts.js","src/reducers/time.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","const React = require('react');\nconst ReactDOM = require('react-dom');\n\nconst createStore = require('./helpers/createStore');\nconst Root = React.createFactory(require('./components/Root'));\n\nconst moment = require('moment');\nconst timeActionCreators = require('./reducers/time');\n\nconst combinedReducers = require('./reducers');\n\n// TODO Section 6: Change code below to get data from the API\n\nwindow.main = (initialState) => {\n  // Create root React component with Redux store\n  const store = createStore(initialState);\n  const rootComponent = Root({ store });\n\n  // Mount React root component in DOM\n  const mountPoint = document.getElementById('root');\n  ReactDOM.render(rootComponent, mountPoint);\n\n  window.setInterval(() => {\n    const now = moment().format();\n    store.dispatch(timeActionCreators.setCurrentTime(now));\n  }, 10000);\n}\n","const React = require('react');\nconst ReduxDevtools = require('redux-devtools');\nconst DockMonitor = require('redux-devtools-dock-monitor').default;\nconst LogMonitor = require('redux-devtools-log-monitor').default;\n\nconst _DevTools = ReduxDevtools.createDevTools(\n  <DockMonitor toggleVisibilityKey=\"h\" changePositionKey=\"q\" defaultIsVisible={true}>\n    <LogMonitor />\n  </DockMonitor>\n);\n\nclass DevTools extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { isMounted: false };\n  }\n\n  static instrument() {\n    return _DevTools.instrument(arguments);\n  }\n\n  componentDidMount() {\n    this.setState({ isMounted: true });\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.isMounted && <_DevTools />}\n      </div>\n    );\n  }\n};\n\n/**\n * Redux development tools (useful for debugging).\n */\nmodule.exports = DevTools;\n","const React = require('react');\n\nconst PostList = require('./PostList');\n\n/**\n * The guts of the home page.\n */\nconst Home = () => (\n  <div>\n    {/* The heading area of the page */}\n    <div className=\"blog-header\">\n      <h1 className=\"blog-title\">An Example of a Blog</h1>\n      <p className=\"lead blog-description\">React and Redux and Bootstrap, oh my!</p>\n    </div>\n    {/* A list of blog posts, including a couple of buttons */}\n    <PostList />\n  </div>\n);\n\nmodule.exports = Home;\n","const React = require('react');\n\nconst PostEdit = require('./PostEdit');\nconst PostView = require('./PostView');\n\nclass Post extends React.Component {\n  constructor(props) {\n    super(props);\n    // Set initial internal state for this component\n    this.state = { editing: false };\n  }\n\n  render() {\n    const openEdit = () => {\n      this.setState({ editing: true });\n    };\n\n    const closeEdit = () => {\n      this.setState({ editing: false });\n    };\n\n    const saveEdit = (editedPost) => {\n      this.props.savePost(editedPost, (err) => {\n        if(!err) closeEdit();\n      });\n    };\n\n    const deleteThisPost = () => {\n      this.props.deletePost(this.props.post.id);\n    };\n\n    // TODO Section 8: Add code for delete\n\n    if(this.state.editing) {\n      // Render component for editing the post\n      return (\n        <PostEdit\n          post={this.props.post}\n          onSave={saveEdit}\n          onCancel={closeEdit}\n        />\n      );\n    }\n    // Render read-only view of the post\n    // TODO Section 8: add code for delete\n    return (\n      <PostView\n        post={this.props.post}\n        time={this.props.time}\n        onDelete={deleteThisPost}\n        onEdit={openEdit}\n      />\n    );\n  }\n}\n\n// Export the Post component\nmodule.exports = Post;\n","const React = require('react');\nconst _ = require('lodash');\n\n/**\n * A form for editing a blog post.\n */\nclass PostEdit extends React.Component {\n  constructor(props) {\n    super(props);\n    const post = props.post || {};\n\n    this.state = {\n      title: post.title || '',\n      content: post.content || ''\n    };\n  }\n\n  render() {\n    const revertAndStopEditing = (event) => {\n      event.preventDefault();\n      this.props.onCancel();\n    };\n\n    const submitAndStopEditing = (event) => {\n      event.preventDefault();\n      // Creates a new post object and saves it.\n      const editedPost = _.assign({}, this.props.post, {\n        title: this.state.title,\n        content: this.state.content\n      });\n      this.props.onSave(editedPost);\n    };\n\n    const onTitleChange = (event) => {\n      this.setState({ title: event.target.value });\n    };\n\n    const onContentChange = (event) => {\n      this.setState({ content: event.target.value });\n    };\n\n    return (\n      <form className=\"blog-post\">\n        {/* Title field */}\n        <div className=\"form-group\">\n          <input className=\"form-control input-lg\" value={this.state.title}\n            placeholder=\"Post title\" onChange={onTitleChange}\n          />\n        </div>\n        {/* Content field */}\n        <div className=\"form-group\">\n          <textarea\n            className=\"form-control\"\n            style={{ height: 300 }}\n            value={this.state.content}\n            onChange={onContentChange}\n          />\n        </div>\n        {/* Save button */}\n        <button className=\"btn btn-default pull-right\"\n          onClick={submitAndStopEditing}\n        >\n          Save\n        </button>\n        {/* Cancel button */}\n        <button className=\"btn btn-default pull-right\"\n          style={{ marginRight: '12px' }}\n          onClick={revertAndStopEditing}\n        >\n          Cancel\n        </button>\n      </form>\n    );\n  }\n}\n\nmodule.exports = PostEdit;\n","const React = require('react');\nconst ReactRedux = require('react-redux');\nconst _ = require('lodash');\n\nconst postsActionCreators = require('../reducers/posts');\nconst createActionDispatchers = require('../helpers/createActionDispatchers');\nconst Post = require('./Post');\nconst PostNew = require('./PostNew');\n\n/**\n * A list of blog posts, along with buttons for writing a new post\n * and loading more posts.\n */\nclass PostList extends React.Component {\n  constructor(props) {\n    super(props);\n    // Set initial internal state for this component\n    this.state = { loading: false };\n  }\n\n  render() {\n    const onLoadButtonClick = () => {\n      // If we are not already in the process of loading posts,\n      // start loading more posts.\n      if(!this.state.loading) {\n        this.setState({ loading: true });\n        this.props.loadMorePosts(() => {\n          this.setState({ loading: false });\n        });\n      }\n    };\n\n    // Function which creates a post component from a post ID\n    const createPostComponent = (currentPost) => {\n      /* TODO Section 8: Add code for delete */\n      return (\n        <Post\n          key={currentPost.id}\n          post={currentPost}\n          time={this.props.time}\n          savePost={this.props.savePost}\n          deletePost={this.props.deletePost}\n        />\n      );\n    };\n\n    return (\n      <div className=\"row\">\n        <div className=\"blog-main\">\n          {/* Button for writing a new post */}\n          <PostNew\n            createPost={this.props.createPost}\n          />\n\n          {/* TODO Section 3: Write code to list all the posts */\n            this.props.posts.visiblePosts.map(createPostComponent)\n          }\n          {/* Button for loading more posts */}\n          <button className=\"blog-load-more btn btn-default btn-lg\"\n            onClick={onLoadButtonClick}\n            disabled={this.state.loading}\n          >\n            {this.state.loading ? 'Loading...' : 'Load more posts'}\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\n// Connect PostList component to the Redux store\nconst PostListContainer = ReactRedux.connect(\n  // Map store state to props\n  (state) => ({\n    posts: state.posts,\n    time: state.time\n  }),\n  createActionDispatchers(postsActionCreators)\n)(PostList);\n\nmodule.exports = PostListContainer;\n","const React = require('react');\nconst PostEdit = require('./PostEdit');\n\n/**\n * A button which expands into a form for writing a new post.\n */\nclass PostNew extends React.Component {\n  constructor(props) {\n    super(props);\n    // Set initial internal state for this component\n    this.state = { editing: false };\n  }\n\n  render() {\n    const openEdit = () => {\n      this.setState({ editing: true });\n    };\n\n    const closeEdit = () => {\n      this.setState({ editing: false });\n    };\n\n    const createPost = (newPost) => {\n      this.props.createPost(newPost, (err) => {\n        if(!err) closeEdit();\n      });\n    };\n\n    if(this.state.editing) {\n      // Render component for editing the post\n      return (\n        <PostEdit\n          post={this.props.post}\n          onSave={createPost}\n          onCancel={closeEdit}\n        />\n      );\n    }\n\n\n\n    // TODO Section 7: Write code to switch to edit mode when editing is clicked\n\n    return (\n      <button className=\"blog-load-more btn btn-primary btn-lg\"\n        onClick={ openEdit }\n      >\n        Write new post\n      </button>\n    );\n  }\n}\n\nmodule.exports = PostNew;\n","const React = require('react');\nconst moment = require('moment');\n\n/**\n * Render edit/delete buttons and post timestamp.\n *\n * List of props: post, time, onEdit, onDelete\n */\nconst PostMeta = (props) => {\n  return (\n    <div className=\"blog-post-meta\">\n      <a role=\"button\" title=\"Edit post\"\n        style={{ paddingRight: '8px' }}\n        onClick={ props.onEdit }\n      >\n        <span className=\"fa fa-edit\" />\n      </a>\n\n      {/* TODO Section 8: Add a delete button */}\n      <a role=\"button\" title=\"Delete post\"\n      style={{  paddingRight: '8px'  }}\n      onClick={  props.onDelete }\n      >\n        <span className=\"fa fa-remove\" />\n      </a>\n      { moment(props.post.createdAt).from(props.time.now) }\n    </div>\n  );\n};\n\n/**\n * A read-only view of a blog post.\n * This is a stateless functional component.\n * It takes props as its args and returns what the render method would return.\n *\n * List of props: post, time, onEdit, onDelete\n */\nconst PostView = (props) => {\n  return (\n    <div className=\"blog-post\">\n      <h2 className=\"blog-post-title\">{props.post.title}</h2>\n\n      {/* TODO Section 4: Display blog metadata */\n      <PostMeta {...props}/>}\n      {/* TODO Section 4: Display blog content */\n      <div className=\"blog-post-content\">{props.post.content}</div>}\n    </div>\n  );\n};\n\nmodule.exports = PostView;\n","/**\n * The root React component from which all other components on the page are\n * descended. It is this component which is directly mounted on the DOM.\n */\n\nconst React = require('react');\nconst ReactRedux = require('react-redux');\n\nconst Provider = ReactRedux.Provider;\nconst Home = require('./Home');\n\n// Enable development tools when in development mode\nlet DevTools = 'span';\nif(process.env.NODE_ENV === 'development') {\n  DevTools = require('./DevTools');\n}\n\n// Define the Root component\nconst Root = (props) => {\n  return (\n    /* The Provider gives descendants the ability to connect to the Redux store */\n    <Provider store={props.store}>\n      <div>\n        {/* The Home component contains the guts of the page */}\n        <Home />\n        {/* DevTools is just an empty element when not in development mode */}\n        <DevTools />\n      </div>\n    </Provider>\n  );\n};\n\nmodule.exports = Root;\n","const ajax = {};\n\nif(process.env.IN_BROWSER) {\n  ajax.request = (opts) => {\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest;\n      xhr.addEventListener('error', () => {\n        reject(new Error('Request failed'));\n      });\n      xhr.addEventListener('load', () => {\n        if(xhr.status !== 200) {\n          reject(new Error('Received status ' + xhr.status));\n        } else {\n          resolve(opts.json ? JSON.parse(xhr.responseText) : xhr.responseText);\n        }\n      });\n      xhr.open(opts.method, opts.url);\n      if(opts.json) {\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.send(opts.data !== undefined ? JSON.stringify(opts.data) : opts.data);\n      } else {\n        xhr.send(opts.data);\n      }\n    });\n  };\n} else {\n  const request = require('request');\n\n  ajax.request = (opts) => {\n    return new Promise((resolve, reject) => {\n      request({\n        url: opts.url,\n        method: opts.method,\n        body: opts.data,\n        json: opts.json\n      }, (error, response, body) => {\n        if(error) {\n          reject(error);\n        } else if(response.statusCode !== 200) {\n          reject(new Error('Received status ' + response.statusCode));\n        } else {\n          resolve(body);\n        }\n      });\n    });\n  };\n}\n\nmodule.exports = ajax;\n","const ajax = require('./ajax');\n\nconst api = {};\n\nif(process.env.IN_BROWSER) {\n  api.baseUrl = '/api';\n} else {\n  api.baseUrl = 'http://api:3000';\n}\n\napi.get = function(path) {\n  return ajax.request({\n    method: 'GET',\n    url: this.baseUrl + path,\n    json: true\n  });\n};\n\napi.post = function(path, data) {\n  return ajax.request({\n    method: 'POST',\n    url: this.baseUrl + path,\n    json: true,\n    data\n  });\n};\n\napi.put = function(path, data) {\n  return ajax.request({\n    method: 'PUT',\n    url: this.baseUrl + path,\n    json: true,\n    data\n  });\n};\n\napi.delete = function(path) {\n  return ajax.request({\n    method: 'DELETE',\n    url: this.baseUrl + path,\n    json: true\n  });\n};\n\nmodule.exports = api;\n","const _ = require('lodash');\n\nmodule.exports = function() {\n  // Get an array of arguments passed into this function\n  const actionCreatorsArray = _.assign([], arguments);\n\n  // Return a function that, when given a dispatch function, returns an\n  // object containing a bunch of action dispatchers\n  return (dispatch) =>\n    // Iterate over actionCreatorsArray, which is an array of arrays of action\n    // creators\n    actionCreatorsArray.reduce((actionDispatchers, actionCreators) => {\n      // Add an action dispatcher for each action creator in actionCreators\n      Object.keys(actionCreators)\n        .filter((name) => (typeof actionCreators[name] === 'function'))\n        .forEach((name) => {\n          actionDispatchers[name] = function() {\n            return dispatch(actionCreators[name].apply(this, arguments));\n          };\n        });\n      return actionDispatchers;\n    }, {});\n};\n","const Redux = require('redux');\nconst reduxThunk = require('redux-thunk').default;\nconst combinedReducers = require('../reducers');\n\nlet enhancer;\n\nif(process.env.NODE_ENV === 'production') {\n  enhancer = Redux.applyMiddleware(reduxThunk)\n} else {\n  const DevTools = require('../components/DevTools');\n\n  enhancer = Redux.compose(\n    // Enables middleware\n    Redux.applyMiddleware(reduxThunk),\n    // Enables DevTools\n    DevTools.instrument()\n  );\n}\n\nmodule.exports = initialState => {\n  const store = Redux.createStore(combinedReducers, initialState, enhancer);\n  return store;\n}\n","const Redux = require('redux');\n\nconst posts = require('./posts');\nconst time = require('./time');\n\nmodule.exports = Redux.combineReducers({\n  posts,\n  time\n});\n","const _ = require('lodash');\nconst api = require('../helpers/api');\n\n// Action type constants\nconst INSERT = 'blog-frontend/posts/INSERT';\nconst CHANGE = 'blog-frontend/posts/CHANGE';\nconst REMOVE = 'blog-frontend/posts/REMOVE';\n\n// The initial state of blog post data\nconst initialState = {\n  visiblePosts: [\n    { id: 5,\n      title: \"From Redux Store: Companies that make computers\",\n      content: \"Dell Apple Toshiba Acer\",\n      createdAt: \"2016-09-11T23:26:36.000Z\",\n      updatedAt: \"2016-09-11T23:26:36.000Z\"\n    },\n    {id: 4,\n     title: \"From Redux Store: Dell\",\n     content: \"A company that makes computers \",\n     createdAt: \"2016-09-11T23:18:08.000Z\",\n     updatedAt: \"2016-09-11T23:18:08.000Z\"\n    },\n    { id: 3,\n      title: \"From Redux Store: Lego Nexo Knights\",\n      content: \"The best lego toy set in the world.\",\n      createdAt: \"2016-09-11T07:47:30.000Z\",\n      updatedAt: \"2016-09-11T07:47:30.000Z\"\n    },\n    { id: 2,\n      title: \"From Redux Store: React\",\n      content: \"An awesome JavaScript library from …\",\n      createdAt: \"2016-09-11T07:46:55.000Z\",\n      updatedAt: \"2016-09-11T07:46:55.000Z\"\n    },\n    { id: 1,\n      title: \"From Redux Store: Deep Learning\",\n      content: \"The use of neural networks to learn…\",\n      createdAt: \"2016-09-11T07:46:28.000Z\",\n      updatedAt: \"2016-09-11T07:46:28.000Z\"\n    }\n\n  ]\n};\n\n// Function which takes the current data state and an action,\n// and returns a new state\nfunction reducer(state, action) {\n  state = state || initialState;\n  action = action || {};\n\n  switch(action.type) {\n    // Inserts new posts into the local store\n    case INSERT: {\n\n\n      // Add in the new posts\n      // Notice that we do not need to increment the post id. Since the post that we\n      // are putting in is one that is returned by the api server which already has\n      // the id incremented.\n      const unsortedPosts = _.concat(state.visiblePosts, action.posts);\n\n      const visiblePosts = _.orderBy(unsortedPosts, 'createdAt','desc');\n\n      // Return updated state\n      return _.assign({}, state, { visiblePosts} );\n    }\n    // Changes a single post's data in the local store\n    case CHANGE: {\n      const visiblePosts = _.clone(state.visiblePosts);\n      const changedIndex = _.findIndex(state.visiblePosts, {id: action.post.id })\n      visiblePosts[changedIndex] = action.post;\n      return _.assign({}, state, { visiblePosts });\n    }\n\n    // Removes a single post from the visible post list\n    case REMOVE: {\n      const visiblePosts = _.reject(state.visiblePosts, {id: action.id});\n      return _.assign({}, state, { visiblePosts });\n    }\n\n    default: return state;\n  }\n}\n\n// Now we define a whole bunch of action creators\n\n// Inserts posts into the post list\nreducer.insertPosts = (posts) => {\n  return { type: INSERT, posts };\n};\n\n// Removes a post from the visible post list\nreducer.removePost = (id) => {\n  return { type: REMOVE, id };\n};\n\n// Attempts to delete a post from the server and removes it from the visible\n// post list if successful\nreducer.deletePost = (postId) => {\n   // TODO Section 8: Add code to perform delete\n   return (dispatch) => {\n   api.delete('/posts/' + postId).then(() => {\n   dispatch(reducer.removePost(postId));\n   }).catch(() => {\n    alert('Failed to delete post.');\n   });\n   };\n};\n\n// Attempts to update a post on the server and updates local post data if\n// successful\nreducer.savePost = (editedPost, callback) => {\n  return (dispatch) => {\n    api.put('/posts/' + editedPost.id, editedPost).then((post) => {\n      // Saves local post.\n      dispatch(reducer.changePost(post));\n      callback();\n    }).catch(() => {\n      alert('Failed to save post.  Are all of the fields filled in correctly?');\n    });\n  };\n};\n\n// Attempts to create a post on the server and inserts it into the local post\n// list if successful\nreducer.createPost = (newPost, callback) => {\n  return (dispatch) => {\n    api.post('/posts', newPost).then((post) => {\n      // This post is one that the store returns us! It has post id incremented to the next available id\n      dispatch(reducer.insertPosts([post]));\n      callback();\n    }).catch(() => {\n      alert('Failed to create post. Are all of the fields filled in correctly?');\n    });\n  };\n};\n\n// Changes local post data\nreducer.changePost = (post) => {\n  return { type: CHANGE, post };\n};\n\n// Attempts to load more posts from the server and inserts them into the local\n// post list if successful\nreducer.loadMorePosts = (callback) => {\n  return (dispatch, getState) => {\n    const state = _.assign({}, initialState, getState().posts);\n\n    let path = '/posts';\n    if (state.visiblePosts.length > 0) {\n        const oldestPost =_.last(state.visiblePosts);\n        path = '/posts?olderThan=' + oldestPost.createdAt;\n    }\n    api.get(path).then((newPosts) => {\n      dispatch(reducer.insertPosts(newPosts));\n      callback();\n    }).catch(() => {\n      alert('Failed to load more posts');\n      callback('Failed to load more posts');\n    });\n\n  };\n\n\n};\n\n// Export the action creators and reducer\nmodule.exports = reducer;\n","const _ = require('lodash');\n\nconst UPDATE = 'blog-frontend/time/UPDATE';\n\nfunction reducer(state, action) {\n  state = state || {};\n  action = action || { type: null };\n\n  switch(action.type) {\n    case UPDATE: {\n      return _.assign({}, state, { now: action.timeNow });\n    } break;\n    default:\n      return state;\n  }\n}\n\nreducer.setCurrentTime = function(timeNow) {\n  return { type: UPDATE, timeNow }\n};\n\nmodule.exports = reducer;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2RlcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9jbGllbnQuanMiLCJzcmMvY29tcG9uZW50cy9EZXZUb29scy5qcyIsInNyYy9jb21wb25lbnRzL0hvbWUuanMiLCJzcmMvY29tcG9uZW50cy9Qb3N0LmpzIiwic3JjL2NvbXBvbmVudHMvUG9zdEVkaXQuanMiLCJzcmMvY29tcG9uZW50cy9Qb3N0TGlzdC5qcyIsInNyYy9jb21wb25lbnRzL1Bvc3ROZXcuanMiLCJzcmMvY29tcG9uZW50cy9Qb3N0Vmlldy5qcyIsInNyYy9jb21wb25lbnRzL1Jvb3QuanMiLCJzcmMvaGVscGVycy9hamF4LmpzIiwic3JjL2hlbHBlcnMvYXBpLmpzIiwic3JjL2hlbHBlcnMvY3JlYXRlQWN0aW9uRGlzcGF0Y2hlcnMuanMiLCJzcmMvaGVscGVycy9jcmVhdGVTdG9yZS5qcyIsInNyYy9yZWR1Y2Vycy9pbmRleC5qcyIsInNyYy9yZWR1Y2Vycy9wb3N0cy5qcyIsInNyYy9yZWR1Y2Vycy90aW1lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxJQUFNLFFBQVEsUUFBUSxPQUFSLENBQWQ7QUFDQSxJQUFNLFdBQVcsUUFBUSxXQUFSLENBQWpCOztBQUVBLElBQU0sY0FBYyxRQUFRLHVCQUFSLENBQXBCO0FBQ0EsSUFBTSxPQUFPLE1BQU0sYUFBTixDQUFvQixRQUFRLG1CQUFSLENBQXBCLENBQWI7O0FBRUEsSUFBTSxTQUFTLFFBQVEsUUFBUixDQUFmO0FBQ0EsSUFBTSxxQkFBcUIsUUFBUSxpQkFBUixDQUEzQjs7QUFFQSxJQUFNLG1CQUFtQixRQUFRLFlBQVIsQ0FBekI7O0FBRUE7O0FBRUEsT0FBTyxJQUFQLEdBQWMsVUFBQyxZQUFELEVBQWtCO0FBQzlCO0FBQ0EsTUFBTSxRQUFRLFlBQVksWUFBWixDQUFkO0FBQ0EsTUFBTSxnQkFBZ0IsS0FBSyxFQUFFLFlBQUYsRUFBTCxDQUF0Qjs7QUFFQTtBQUNB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QXhCLEVBQWdDO0FBQzlCLFVBQVEsU0FBUyxFQUFqQjtBQUNBLFdBQVMsVUFBVSxFQUFFLE1BQU0sSUFBUixFQUFuQjs7QUFFQSxVQUFPLE9BQU8sSUFBZDtBQUNFLFNBQUssTUFBTDtBQUFhO0FBQ1gsZUFBTyxFQUFFLE1BQUYsQ0FBUyxFQUFULEVBQWEsS0FBYixFQUFvQixFQUFFLEtBQUssT0FBTyxPQUFkLEVBQXBCLENBQVA7QUFDRCxPQUFDO0FBQ0Y7QUFDRSxhQUFPLEtBQVA7QUFMSjtBQU9EOztBQUVELFFBQVEsY0FBUixHQUF5QixVQUFTLE9BQVQsRUFBa0I7QUFDekMsU0FBTyxFQUFFLE1BQU0sTUFBUixFQUFnQixnQkFBaEIsRUFBUDtBQUNELENBRkQ7O0FBSUEsT0FBTyxPQUFQLEdBQWlCLE9BQWpCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgUmVhY3RET00gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxuY29uc3QgY3JlYXRlU3RvcmUgPSByZXF1aXJlKCcuL2hlbHBlcnMvY3JlYXRlU3RvcmUnKTtcbmNvbnN0IFJvb3QgPSBSZWFjdC5jcmVhdGVGYWN0b3J5KHJlcXVpcmUoJy4vY29tcG9uZW50cy9Sb290JykpO1xuXG5jb25zdCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcbmNvbnN0IHRpbWVBY3Rpb25DcmVhdG9ycyA9IHJlcXVpcmUoJy4vcmVkdWNlcnMvdGltZScpO1xuXG5jb25zdCBjb21iaW5lZFJlZHVjZXJzID0gcmVxdWlyZSgnLi9yZWR1Y2VycycpO1xuXG4vLyBUT0RPIFNlY3Rpb24gNjogQ2hhbmdlIGNvZGUgYmVsb3cgdG8gZ2V0IGRhdGEgZnJvbSB0aGUgQVBJXG5cbndpbmRvdy5tYWluID0gKGluaXRpYWxTdGF0ZSkgPT4ge1xuICAvLyBDcmVhdGUgcm9vdCBSZWFjdCBjb21wb25lbnQgd2l0aCBSZWR1eCBzdG9yZVxuICBjb25zdCBzdG9yZSA9IGNyZWF0ZVN0b3JlKGluaXRpYWxTdGF0ZSk7XG4gIGNvbnN0IHJvb3RDb21wb25lbnQgPSBSb290KHsgc3RvcmUgfSk7XG5cbiAgLy8gTW91bnQgUmVhY3Qgcm9vdCBjb21wb25lbnQgaW4gRE9NXG4gIGNvbnN0IG1vdW50UG9pbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpO1xuICBSZWFjdERPTS5yZW5kZXIocm9vdENvbXBvbmVudCwgbW91bnRQb2ludCk7XG5cbiAgd2luZG93LnNldEludGVydmFsKCgpID0+IHtcbiAgICBjb25zdCBub3cgPSBtb21lbnQoKS5mb3JtYXQoKTtcbiAgICBzdG9yZS5kaXNwYXRjaCh0aW1lQWN0aW9uQ3JlYXRvcnMuc2V0Q3VycmVudFRpbWUobm93KSk7XG4gIH0sIDEwMDAwKTtcbn1cbiIsImNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IFJlZHV4RGV2dG9vbHMgPSByZXF1aXJlKCdyZWR1eC1kZXZ0b29scycpO1xuY29uc3QgRG9ja01vbml0b3IgPSByZXF1aXJlKCdyZWR1eC1kZXZ0b29scy1kb2NrLW1vbml0b3InKS5kZWZhdWx0O1xuY29uc3QgTG9nTW9uaXRvciA9IHJlcXVpcmUoJ3JlZHV4LWRldnRvb2xzLWxvZy1tb25pdG9yJykuZGVmYXVsdDtcblxuY29uc3QgX0RldlRvb2xzID0gUmVkdXhEZXZ0b29scy5jcmVhdGVEZXZUb29scyhcbiAgPERvY2tNb25pdG9yIHRvZ2dsZVZpc2liaWxpdHlLZXk9XCJoXCIgY2hhbmdlUG9zaXRpb25LZXk9XCJxXCIgZGVmYXVsdElzVmlzaWJsZT17dHJ1ZX0+XG4gICAgPExvZ01vbml0b3IgLz5cbiAgPC9Eb2NrTW9uaXRvcj5cbik7XG5cbmNsYXNzIERldlRvb2xzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgaXNNb3VudGVkOiBmYWxzZSB9O1xuICB9XG5cbiAgc3RhdGljIGluc3RydW1lbnQoKSB7XG4gICAgcmV0dXJuIF9EZXZUb29scy5pbnN0cnVtZW50KGFyZ3VtZW50cyk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNNb3VudGVkOiB0cnVlIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICB7dGhpcy5zdGF0ZS5pc01vdW50ZWQgJiYgPF9EZXZUb29scyAvPn1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn07XG5cbi8qKlxuICogUmVkdXggZGV2ZWxvcG1lbnQgdG9vbHMgKHVzZWZ1bCBmb3IgZGVidWdnaW5nKS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBEZXZUb29scztcbiIsImNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuY29uc3QgUG9zdExpc3QgPSByZXF1aXJlKCcuL1Bvc3RMaXN0Jyk7XG5cbi8qKlxuICogVGhlIGd1dHMgb2YgdGhlIGhvbWUgcGFnZS5cbiAqL1xuY29uc3QgSG9tZSA9ICgpID0+IChcbiAgPGRpdj5cbiAgICB7LyogVGhlIGhlYWRpbmcgYXJlYSBvZiB0aGUgcGFnZSAqL31cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImJsb2ctaGVhZGVyXCI+XG4gICAgICA8aDEgY2xhc3NOYW1lPVwiYmxvZy10aXRsZVwiPkFuIEV4YW1wbGUgb2YgYSBCbG9nPC9oMT5cbiAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWQgYmxvZy1kZXNjcmlwdGlvblwiPlJlYWN0IGFuZCBSZWR1eCBhbmQgQm9vdHN0cmFwLCBvaCBteSE8L3A+XG4gICAgPC9kaXY+XG4gICAgey8qIEEgbGlzdCBvZiBibG9nIHBvc3RzLCBpbmNsdWRpbmcgYSBjb3VwbGUgb2YgYnV0dG9ucyAqL31cbiAgICA8UG9zdExpc3QgLz5cbiAgPC9kaXY+XG4pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEhvbWU7XG4iLCJjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbmNvbnN0IFBvc3RFZGl0ID0gcmVxdWlyZSgnLi9Qb3N0RWRpdCcpO1xuY29uc3QgUG9zdFZpZXcgPSByZXF1aXJlKCcuL1Bvc3RWaWV3Jyk7XG5cbmNsYXNzIFBvc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICAvLyBTZXQgaW5pdGlhbCBpbnRlcm5hbCBzdGF0ZSBmb3IgdGhpcyBjb21wb25lbnRcbiAgICB0aGlzLnN0YXRlID0geyBlZGl0aW5nOiBmYWxzZSB9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IG9wZW5FZGl0ID0gKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVkaXRpbmc6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNsb3NlRWRpdCA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0aW5nOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2F2ZUVkaXQgPSAoZWRpdGVkUG9zdCkgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5zYXZlUG9zdChlZGl0ZWRQb3N0LCAoZXJyKSA9PiB7XG4gICAgICAgIGlmKCFlcnIpIGNsb3NlRWRpdCgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZVRoaXNQb3N0ID0gKCkgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5kZWxldGVQb3N0KHRoaXMucHJvcHMucG9zdC5pZCk7XG4gICAgfTtcblxuICAgIC8vIFRPRE8gU2VjdGlvbiA4OiBBZGQgY29kZSBmb3IgZGVsZXRlXG5cbiAgICBpZih0aGlzLnN0YXRlLmVkaXRpbmcpIHtcbiAgICAgIC8vIFJlbmRlciBjb21wb25lbnQgZm9yIGVkaXRpbmcgdGhlIHBvc3RcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxQb3N0RWRpdFxuICAgICAgICAgIHBvc3Q9e3RoaXMucHJvcHMucG9zdH1cbiAgICAgICAgICBvblNhdmU9e3NhdmVFZGl0fVxuICAgICAgICAgIG9uQ2FuY2VsPXtjbG9zZUVkaXR9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cbiAgICAvLyBSZW5kZXIgcmVhZC1vbmx5IHZpZXcgb2YgdGhlIHBvc3RcbiAgICAvLyBUT0RPIFNlY3Rpb24gODogYWRkIGNvZGUgZm9yIGRlbGV0ZVxuICAgIHJldHVybiAoXG4gICAgICA8UG9zdFZpZXdcbiAgICAgICAgcG9zdD17dGhpcy5wcm9wcy5wb3N0fVxuICAgICAgICB0aW1lPXt0aGlzLnByb3BzLnRpbWV9XG4gICAgICAgIG9uRGVsZXRlPXtkZWxldGVUaGlzUG9zdH1cbiAgICAgICAgb25FZGl0PXtvcGVuRWRpdH1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufVxuXG4vLyBFeHBvcnQgdGhlIFBvc3QgY29tcG9uZW50XG5tb2R1bGUuZXhwb3J0cyA9IFBvc3Q7XG4iLCJjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbi8qKlxuICogQSBmb3JtIGZvciBlZGl0aW5nIGEgYmxvZyBwb3N0LlxuICovXG5jbGFzcyBQb3N0RWRpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIGNvbnN0IHBvc3QgPSBwcm9wcy5wb3N0IHx8IHt9O1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRpdGxlOiBwb3N0LnRpdGxlIHx8ICcnLFxuICAgICAgY29udGVudDogcG9zdC5jb250ZW50IHx8ICcnXG4gICAgfTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCByZXZlcnRBbmRTdG9wRWRpdGluZyA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMucHJvcHMub25DYW5jZWwoKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc3VibWl0QW5kU3RvcEVkaXRpbmcgPSAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAvLyBDcmVhdGVzIGEgbmV3IHBvc3Qgb2JqZWN0IGFuZCBzYXZlcyBpdC5cbiAgICAgIGNvbnN0IGVkaXRlZFBvc3QgPSBfLmFzc2lnbih7fSwgdGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICAgIHRpdGxlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgICBjb250ZW50OiB0aGlzLnN0YXRlLmNvbnRlbnRcbiAgICAgIH0pO1xuICAgICAgdGhpcy5wcm9wcy5vblNhdmUoZWRpdGVkUG9zdCk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uVGl0bGVDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB0aXRsZTogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBvbkNvbnRlbnRDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBjb250ZW50OiBldmVudC50YXJnZXQudmFsdWUgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBjbGFzc05hbWU9XCJibG9nLXBvc3RcIj5cbiAgICAgICAgey8qIFRpdGxlIGZpZWxkICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGlucHV0LWxnXCIgdmFsdWU9e3RoaXMuc3RhdGUudGl0bGV9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBvc3QgdGl0bGVcIiBvbkNoYW5nZT17b25UaXRsZUNoYW5nZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgey8qIENvbnRlbnQgZmllbGQgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogMzAwIH19XG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jb250ZW50fVxuICAgICAgICAgICAgb25DaGFuZ2U9e29uQ29udGVudENoYW5nZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgey8qIFNhdmUgYnV0dG9uICovfVxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBwdWxsLXJpZ2h0XCJcbiAgICAgICAgICBvbkNsaWNrPXtzdWJtaXRBbmRTdG9wRWRpdGluZ31cbiAgICAgICAgPlxuICAgICAgICAgIFNhdmVcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIHsvKiBDYW5jZWwgYnV0dG9uICovfVxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBwdWxsLXJpZ2h0XCJcbiAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogJzEycHgnIH19XG4gICAgICAgICAgb25DbGljaz17cmV2ZXJ0QW5kU3RvcEVkaXRpbmd9XG4gICAgICAgID5cbiAgICAgICAgICBDYW5jZWxcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Zvcm0+XG4gICAgKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBvc3RFZGl0O1xuIiwiY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgUmVhY3RSZWR1eCA9IHJlcXVpcmUoJ3JlYWN0LXJlZHV4Jyk7XG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbmNvbnN0IHBvc3RzQWN0aW9uQ3JlYXRvcnMgPSByZXF1aXJlKCcuLi9yZWR1Y2Vycy9wb3N0cycpO1xuY29uc3QgY3JlYXRlQWN0aW9uRGlzcGF0Y2hlcnMgPSByZXF1aXJlKCcuLi9oZWxwZXJzL2NyZWF0ZUFjdGlvbkRpc3BhdGNoZXJzJyk7XG5jb25zdCBQb3N0ID0gcmVxdWlyZSgnLi9Qb3N0Jyk7XG5jb25zdCBQb3N0TmV3ID0gcmVxdWlyZSgnLi9Qb3N0TmV3Jyk7XG5cbi8qKlxuICogQSBsaXN0IG9mIGJsb2cgcG9zdHMsIGFsb25nIHdpdGggYnV0dG9ucyBmb3Igd3JpdGluZyBhIG5ldyBwb3N0XG4gKiBhbmQgbG9hZGluZyBtb3JlIHBvc3RzLlxuICovXG5jbGFzcyBQb3N0TGlzdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIC8vIFNldCBpbml0aWFsIGludGVybmFsIHN0YXRlIGZvciB0aGlzIGNvbXBvbmVudFxuICAgIHRoaXMuc3RhdGUgPSB7IGxvYWRpbmc6IGZhbHNlIH07XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qgb25Mb2FkQnV0dG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgICAvLyBJZiB3ZSBhcmUgbm90IGFscmVhZHkgaW4gdGhlIHByb2Nlc3Mgb2YgbG9hZGluZyBwb3N0cyxcbiAgICAgIC8vIHN0YXJ0IGxvYWRpbmcgbW9yZSBwb3N0cy5cbiAgICAgIGlmKCF0aGlzLnN0YXRlLmxvYWRpbmcpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IHRydWUgfSk7XG4gICAgICAgIHRoaXMucHJvcHMubG9hZE1vcmVQb3N0cygoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IGZhbHNlIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRnVuY3Rpb24gd2hpY2ggY3JlYXRlcyBhIHBvc3QgY29tcG9uZW50IGZyb20gYSBwb3N0IElEXG4gICAgY29uc3QgY3JlYXRlUG9zdENvbXBvbmVudCA9IChjdXJyZW50UG9zdCkgPT4ge1xuICAgICAgLyogVE9ETyBTZWN0aW9uIDg6IEFkZCBjb2RlIGZvciBkZWxldGUgKi9cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxQb3N0XG4gICAgICAgICAga2V5PXtjdXJyZW50UG9zdC5pZH1cbiAgICAgICAgICBwb3N0PXtjdXJyZW50UG9zdH1cbiAgICAgICAgICB0aW1lPXt0aGlzLnByb3BzLnRpbWV9XG4gICAgICAgICAgc2F2ZVBvc3Q9e3RoaXMucHJvcHMuc2F2ZVBvc3R9XG4gICAgICAgICAgZGVsZXRlUG9zdD17dGhpcy5wcm9wcy5kZWxldGVQb3N0fVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmxvZy1tYWluXCI+XG4gICAgICAgICAgey8qIEJ1dHRvbiBmb3Igd3JpdGluZyBhIG5ldyBwb3N0ICovfVxuICAgICAgICAgIDxQb3N0TmV3XG4gICAgICAgICAgICBjcmVhdGVQb3N0PXt0aGlzLnByb3BzLmNyZWF0ZVBvc3R9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIHsvKiBUT0RPIFNlY3Rpb24gMzogV3JpdGUgY29kZSB0byBsaXN0IGFsbCB0aGUgcG9zdHMgKi9cbiAgICAgICAgICAgIHRoaXMucHJvcHMucG9zdHMudmlzaWJsZVBvc3RzLm1hcChjcmVhdGVQb3N0Q29tcG9uZW50KVxuICAgICAgICAgIH1cbiAgICAgICAgICB7LyogQnV0dG9uIGZvciBsb2FkaW5nIG1vcmUgcG9zdHMgKi99XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJibG9nLWxvYWQtbW9yZSBidG4gYnRuLWRlZmF1bHQgYnRuLWxnXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uTG9hZEJ1dHRvbkNsaWNrfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUubG9hZGluZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS5sb2FkaW5nID8gJ0xvYWRpbmcuLi4nIDogJ0xvYWQgbW9yZSBwb3N0cyd9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG4vLyBDb25uZWN0IFBvc3RMaXN0IGNvbXBvbmVudCB0byB0aGUgUmVkdXggc3RvcmVcbmNvbnN0IFBvc3RMaXN0Q29udGFpbmVyID0gUmVhY3RSZWR1eC5jb25uZWN0KFxuICAvLyBNYXAgc3RvcmUgc3RhdGUgdG8gcHJvcHNcbiAgKHN0YXRlKSA9PiAoe1xuICAgIHBvc3RzOiBzdGF0ZS5wb3N0cyxcbiAgICB0aW1lOiBzdGF0ZS50aW1lXG4gIH0pLFxuICBjcmVhdGVBY3Rpb25EaXNwYXRjaGVycyhwb3N0c0FjdGlvbkNyZWF0b3JzKVxuKShQb3N0TGlzdCk7XG5cbm1vZHVsZS5leHBvcnRzID0gUG9zdExpc3RDb250YWluZXI7XG4iLCJjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCBQb3N0RWRpdCA9IHJlcXVpcmUoJy4vUG9zdEVkaXQnKTtcblxuLyoqXG4gKiBBIGJ1dHRvbiB3aGljaCBleHBhbmRzIGludG8gYSBmb3JtIGZvciB3cml0aW5nIGEgbmV3IHBvc3QuXG4gKi9cbmNsYXNzIFBvc3ROZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICAvLyBTZXQgaW5pdGlhbCBpbnRlcm5hbCBzdGF0ZSBmb3IgdGhpcyBjb21wb25lbnRcbiAgICB0aGlzLnN0YXRlID0geyBlZGl0aW5nOiBmYWxzZSB9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IG9wZW5FZGl0ID0gKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVkaXRpbmc6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNsb3NlRWRpdCA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0aW5nOiBmYWxzZSB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgY3JlYXRlUG9zdCA9IChuZXdQb3N0KSA9PiB7XG4gICAgICB0aGlzLnByb3BzLmNyZWF0ZVBvc3QobmV3UG9zdCwgKGVycikgPT4ge1xuICAgICAgICBpZighZXJyKSBjbG9zZUVkaXQoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBpZih0aGlzLnN0YXRlLmVkaXRpbmcpIHtcbiAgICAgIC8vIFJlbmRlciBjb21wb25lbnQgZm9yIGVkaXRpbmcgdGhlIHBvc3RcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxQb3N0RWRpdFxuICAgICAgICAgIHBvc3Q9e3RoaXMucHJvcHMucG9zdH1cbiAgICAgICAgICBvblNhdmU9e2NyZWF0ZVBvc3R9XG4gICAgICAgICAgb25DYW5jZWw9e2Nsb3NlRWRpdH1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuXG5cblxuICAgIC8vIFRPRE8gU2VjdGlvbiA3OiBXcml0ZSBjb2RlIHRvIHN3aXRjaCB0byBlZGl0IG1vZGUgd2hlbiBlZGl0aW5nIGlzIGNsaWNrZWRcblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJsb2ctbG9hZC1tb3JlIGJ0biBidG4tcHJpbWFyeSBidG4tbGdcIlxuICAgICAgICBvbkNsaWNrPXsgb3BlbkVkaXQgfVxuICAgICAgPlxuICAgICAgICBXcml0ZSBuZXcgcG9zdFxuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBvc3ROZXc7XG4iLCJjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxuLyoqXG4gKiBSZW5kZXIgZWRpdC9kZWxldGUgYnV0dG9ucyBhbmQgcG9zdCB0aW1lc3RhbXAuXG4gKlxuICogTGlzdCBvZiBwcm9wczogcG9zdCwgdGltZSwgb25FZGl0LCBvbkRlbGV0ZVxuICovXG5jb25zdCBQb3N0TWV0YSA9IChwcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmxvZy1wb3N0LW1ldGFcIj5cbiAgICAgIDxhIHJvbGU9XCJidXR0b25cIiB0aXRsZT1cIkVkaXQgcG9zdFwiXG4gICAgICAgIHN0eWxlPXt7IHBhZGRpbmdSaWdodDogJzhweCcgfX1cbiAgICAgICAgb25DbGljaz17IHByb3BzLm9uRWRpdCB9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZhIGZhLWVkaXRcIiAvPlxuICAgICAgPC9hPlxuXG4gICAgICB7LyogVE9ETyBTZWN0aW9uIDg6IEFkZCBhIGRlbGV0ZSBidXR0b24gKi99XG4gICAgICA8YSByb2xlPVwiYnV0dG9uXCIgdGl0bGU9XCJEZWxldGUgcG9zdFwiXG4gICAgICBzdHlsZT17eyAgcGFkZGluZ1JpZ2h0OiAnOHB4JyAgfX1cbiAgICAgIG9uQ2xpY2s9eyAgcHJvcHMub25EZWxldGUgfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmYSBmYS1yZW1vdmVcIiAvPlxuICAgICAgPC9hPlxuICAgICAgeyBtb21lbnQocHJvcHMucG9zdC5jcmVhdGVkQXQpLmZyb20ocHJvcHMudGltZS5ub3cpIH1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8qKlxuICogQSByZWFkLW9ubHkgdmlldyBvZiBhIGJsb2cgcG9zdC5cbiAqIFRoaXMgaXMgYSBzdGF0ZWxlc3MgZnVuY3Rpb25hbCBjb21wb25lbnQuXG4gKiBJdCB0YWtlcyBwcm9wcyBhcyBpdHMgYXJncyBhbmQgcmV0dXJucyB3aGF0IHRoZSByZW5kZXIgbWV0aG9kIHdvdWxkIHJldHVybi5cbiAqXG4gKiBMaXN0IG9mIHByb3BzOiBwb3N0LCB0aW1lLCBvbkVkaXQsIG9uRGVsZXRlXG4gKi9cbmNvbnN0IFBvc3RWaWV3ID0gKHByb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJibG9nLXBvc3RcIj5cbiAgICAgIDxoMiBjbGFzc05hbWU9XCJibG9nLXBvc3QtdGl0bGVcIj57cHJvcHMucG9zdC50aXRsZX08L2gyPlxuXG4gICAgICB7LyogVE9ETyBTZWN0aW9uIDQ6IERpc3BsYXkgYmxvZyBtZXRhZGF0YSAqL1xuICAgICAgPFBvc3RNZXRhIHsuLi5wcm9wc30vPn1cbiAgICAgIHsvKiBUT0RPIFNlY3Rpb24gNDogRGlzcGxheSBibG9nIGNvbnRlbnQgKi9cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmxvZy1wb3N0LWNvbnRlbnRcIj57cHJvcHMucG9zdC5jb250ZW50fTwvZGl2Pn1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUG9zdFZpZXc7XG4iLCIvKipcbiAqIFRoZSByb290IFJlYWN0IGNvbXBvbmVudCBmcm9tIHdoaWNoIGFsbCBvdGhlciBjb21wb25lbnRzIG9uIHRoZSBwYWdlIGFyZVxuICogZGVzY2VuZGVkLiBJdCBpcyB0aGlzIGNvbXBvbmVudCB3aGljaCBpcyBkaXJlY3RseSBtb3VudGVkIG9uIHRoZSBET00uXG4gKi9cblxuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgUmVhY3RSZWR1eCA9IHJlcXVpcmUoJ3JlYWN0LXJlZHV4Jyk7XG5cbmNvbnN0IFByb3ZpZGVyID0gUmVhY3RSZWR1eC5Qcm92aWRlcjtcbmNvbnN0IEhvbWUgPSByZXF1aXJlKCcuL0hvbWUnKTtcblxuLy8gRW5hYmxlIGRldmVsb3BtZW50IHRvb2xzIHdoZW4gaW4gZGV2ZWxvcG1lbnQgbW9kZVxubGV0IERldlRvb2xzID0gJ3NwYW4nO1xuaWYocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgRGV2VG9vbHMgPSByZXF1aXJlKCcuL0RldlRvb2xzJyk7XG59XG5cbi8vIERlZmluZSB0aGUgUm9vdCBjb21wb25lbnRcbmNvbnN0IFJvb3QgPSAocHJvcHMpID0+IHtcbiAgcmV0dXJuIChcbiAgICAvKiBUaGUgUHJvdmlkZXIgZ2l2ZXMgZGVzY2VuZGFudHMgdGhlIGFiaWxpdHkgdG8gY29ubmVjdCB0byB0aGUgUmVkdXggc3RvcmUgKi9cbiAgICA8UHJvdmlkZXIgc3RvcmU9e3Byb3BzLnN0b3JlfT5cbiAgICAgIDxkaXY+XG4gICAgICAgIHsvKiBUaGUgSG9tZSBjb21wb25lbnQgY29udGFpbnMgdGhlIGd1dHMgb2YgdGhlIHBhZ2UgKi99XG4gICAgICAgIDxIb21lIC8+XG4gICAgICAgIHsvKiBEZXZUb29scyBpcyBqdXN0IGFuIGVtcHR5IGVsZW1lbnQgd2hlbiBub3QgaW4gZGV2ZWxvcG1lbnQgbW9kZSAqL31cbiAgICAgICAgPERldlRvb2xzIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L1Byb3ZpZGVyPlxuICApO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSb290O1xuIiwiY29uc3QgYWpheCA9IHt9O1xuXG5pZihwcm9jZXNzLmVudi5JTl9CUk9XU0VSKSB7XG4gIGFqYXgucmVxdWVzdCA9IChvcHRzKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdDtcbiAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICgpID0+IHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignUmVxdWVzdCBmYWlsZWQnKSk7XG4gICAgICB9KTtcbiAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICBpZih4aHIuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdSZWNlaXZlZCBzdGF0dXMgJyArIHhoci5zdGF0dXMpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKG9wdHMuanNvbiA/IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCkgOiB4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB4aHIub3BlbihvcHRzLm1ldGhvZCwgb3B0cy51cmwpO1xuICAgICAgaWYob3B0cy5qc29uKSB7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICB4aHIuc2VuZChvcHRzLmRhdGEgIT09IHVuZGVmaW5lZCA/IEpTT04uc3RyaW5naWZ5KG9wdHMuZGF0YSkgOiBvcHRzLmRhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeGhyLnNlbmQob3B0cy5kYXRhKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIGNvbnN0IHJlcXVlc3QgPSByZXF1aXJlKCdyZXF1ZXN0Jyk7XG5cbiAgYWpheC5yZXF1ZXN0ID0gKG9wdHMpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgcmVxdWVzdCh7XG4gICAgICAgIHVybDogb3B0cy51cmwsXG4gICAgICAgIG1ldGhvZDogb3B0cy5tZXRob2QsXG4gICAgICAgIGJvZHk6IG9wdHMuZGF0YSxcbiAgICAgICAganNvbjogb3B0cy5qc29uXG4gICAgICB9LCAoZXJyb3IsIHJlc3BvbnNlLCBib2R5KSA9PiB7XG4gICAgICAgIGlmKGVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfSBlbHNlIGlmKHJlc3BvbnNlLnN0YXR1c0NvZGUgIT09IDIwMCkge1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1JlY2VpdmVkIHN0YXR1cyAnICsgcmVzcG9uc2Uuc3RhdHVzQ29kZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUoYm9keSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFqYXg7XG4iLCJjb25zdCBhamF4ID0gcmVxdWlyZSgnLi9hamF4Jyk7XG5cbmNvbnN0IGFwaSA9IHt9O1xuXG5pZihwcm9jZXNzLmVudi5JTl9CUk9XU0VSKSB7XG4gIGFwaS5iYXNlVXJsID0gJy9hcGknO1xufSBlbHNlIHtcbiAgYXBpLmJhc2VVcmwgPSAnaHR0cDovL2FwaTozMDAwJztcbn1cblxuYXBpLmdldCA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIGFqYXgucmVxdWVzdCh7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6IHRoaXMuYmFzZVVybCArIHBhdGgsXG4gICAganNvbjogdHJ1ZVxuICB9KTtcbn07XG5cbmFwaS5wb3N0ID0gZnVuY3Rpb24ocGF0aCwgZGF0YSkge1xuICByZXR1cm4gYWpheC5yZXF1ZXN0KHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICB1cmw6IHRoaXMuYmFzZVVybCArIHBhdGgsXG4gICAganNvbjogdHJ1ZSxcbiAgICBkYXRhXG4gIH0pO1xufTtcblxuYXBpLnB1dCA9IGZ1bmN0aW9uKHBhdGgsIGRhdGEpIHtcbiAgcmV0dXJuIGFqYXgucmVxdWVzdCh7XG4gICAgbWV0aG9kOiAnUFVUJyxcbiAgICB1cmw6IHRoaXMuYmFzZVVybCArIHBhdGgsXG4gICAganNvbjogdHJ1ZSxcbiAgICBkYXRhXG4gIH0pO1xufTtcblxuYXBpLmRlbGV0ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIGFqYXgucmVxdWVzdCh7XG4gICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICB1cmw6IHRoaXMuYmFzZVVybCArIHBhdGgsXG4gICAganNvbjogdHJ1ZVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gYXBpO1xuIiwiY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAvLyBHZXQgYW4gYXJyYXkgb2YgYXJndW1lbnRzIHBhc3NlZCBpbnRvIHRoaXMgZnVuY3Rpb25cbiAgY29uc3QgYWN0aW9uQ3JlYXRvcnNBcnJheSA9IF8uYXNzaWduKFtdLCBhcmd1bWVudHMpO1xuXG4gIC8vIFJldHVybiBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gZ2l2ZW4gYSBkaXNwYXRjaCBmdW5jdGlvbiwgcmV0dXJucyBhblxuICAvLyBvYmplY3QgY29udGFpbmluZyBhIGJ1bmNoIG9mIGFjdGlvbiBkaXNwYXRjaGVyc1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PlxuICAgIC8vIEl0ZXJhdGUgb3ZlciBhY3Rpb25DcmVhdG9yc0FycmF5LCB3aGljaCBpcyBhbiBhcnJheSBvZiBhcnJheXMgb2YgYWN0aW9uXG4gICAgLy8gY3JlYXRvcnNcbiAgICBhY3Rpb25DcmVhdG9yc0FycmF5LnJlZHVjZSgoYWN0aW9uRGlzcGF0Y2hlcnMsIGFjdGlvbkNyZWF0b3JzKSA9PiB7XG4gICAgICAvLyBBZGQgYW4gYWN0aW9uIGRpc3BhdGNoZXIgZm9yIGVhY2ggYWN0aW9uIGNyZWF0b3IgaW4gYWN0aW9uQ3JlYXRvcnNcbiAgICAgIE9iamVjdC5rZXlzKGFjdGlvbkNyZWF0b3JzKVxuICAgICAgICAuZmlsdGVyKChuYW1lKSA9PiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzW25hbWVdID09PSAnZnVuY3Rpb24nKSlcbiAgICAgICAgLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgICBhY3Rpb25EaXNwYXRjaGVyc1tuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKGFjdGlvbkNyZWF0b3JzW25hbWVdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjdGlvbkRpc3BhdGNoZXJzO1xuICAgIH0sIHt9KTtcbn07XG4iLCJjb25zdCBSZWR1eCA9IHJlcXVpcmUoJ3JlZHV4Jyk7XG5jb25zdCByZWR1eFRodW5rID0gcmVxdWlyZSgncmVkdXgtdGh1bmsnKS5kZWZhdWx0O1xuY29uc3QgY29tYmluZWRSZWR1Y2VycyA9IHJlcXVpcmUoJy4uL3JlZHVjZXJzJyk7XG5cbmxldCBlbmhhbmNlcjtcblxuaWYocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBlbmhhbmNlciA9IFJlZHV4LmFwcGx5TWlkZGxld2FyZShyZWR1eFRodW5rKVxufSBlbHNlIHtcbiAgY29uc3QgRGV2VG9vbHMgPSByZXF1aXJlKCcuLi9jb21wb25lbnRzL0RldlRvb2xzJyk7XG5cbiAgZW5oYW5jZXIgPSBSZWR1eC5jb21wb3NlKFxuICAgIC8vIEVuYWJsZXMgbWlkZGxld2FyZVxuICAgIFJlZHV4LmFwcGx5TWlkZGxld2FyZShyZWR1eFRodW5rKSxcbiAgICAvLyBFbmFibGVzIERldlRvb2xzXG4gICAgRGV2VG9vbHMuaW5zdHJ1bWVudCgpXG4gICk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5pdGlhbFN0YXRlID0+IHtcbiAgY29uc3Qgc3RvcmUgPSBSZWR1eC5jcmVhdGVTdG9yZShjb21iaW5lZFJlZHVjZXJzLCBpbml0aWFsU3RhdGUsIGVuaGFuY2VyKTtcbiAgcmV0dXJuIHN0b3JlO1xufVxuIiwiY29uc3QgUmVkdXggPSByZXF1aXJlKCdyZWR1eCcpO1xuXG5jb25zdCBwb3N0cyA9IHJlcXVpcmUoJy4vcG9zdHMnKTtcbmNvbnN0IHRpbWUgPSByZXF1aXJlKCcuL3RpbWUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWR1eC5jb21iaW5lUmVkdWNlcnMoe1xuICBwb3N0cyxcbiAgdGltZVxufSk7XG4iLCJjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5jb25zdCBhcGkgPSByZXF1aXJlKCcuLi9oZWxwZXJzL2FwaScpO1xuXG4vLyBBY3Rpb24gdHlwZSBjb25zdGFudHNcbmNvbnN0IElOU0VSVCA9ICdibG9nLWZyb250ZW5kL3Bvc3RzL0lOU0VSVCc7XG5jb25zdCBDSEFOR0UgPSAnYmxvZy1mcm9udGVuZC9wb3N0cy9DSEFOR0UnO1xuY29uc3QgUkVNT1ZFID0gJ2Jsb2ctZnJvbnRlbmQvcG9zdHMvUkVNT1ZFJztcblxuLy8gVGhlIGluaXRpYWwgc3RhdGUgb2YgYmxvZyBwb3N0IGRhdGFcbmNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgdmlzaWJsZVBvc3RzOiBbXG4gICAgeyBpZDogNSxcbiAgICAgIHRpdGxlOiBcIkZyb20gUmVkdXggU3RvcmU6IENvbXBhbmllcyB0aGF0IG1ha2UgY29tcHV0ZXJzXCIsXG4gICAgICBjb250ZW50OiBcIkRlbGwgQXBwbGUgVG9zaGliYSBBY2VyXCIsXG4gICAgICBjcmVhdGVkQXQ6IFwiMjAxNi0wOS0xMVQyMzoyNjozNi4wMDBaXCIsXG4gICAgICB1cGRhdGVkQXQ6IFwiMjAxNi0wOS0xMVQyMzoyNjozNi4wMDBaXCJcbiAgICB9LFxuICAgIHtpZDogNCxcbiAgICAgdGl0bGU6IFwiRnJvbSBSZWR1eCBTdG9yZTogRGVsbFwiLFxuICAgICBjb250ZW50OiBcIkEgY29tcGFueSB0aGF0IG1ha2VzIGNvbXB1dGVycyBcIixcbiAgICAgY3JlYXRlZEF0OiBcIjIwMTYtMDktMTFUMjM6MTg6MDguMDAwWlwiLFxuICAgICB1cGRhdGVkQXQ6IFwiMjAxNi0wOS0xMVQyMzoxODowOC4wMDBaXCJcbiAgICB9LFxuICAgIHsgaWQ6IDMsXG4gICAgICB0aXRsZTogXCJGcm9tIFJlZHV4IFN0b3JlOiBMZWdvIE5leG8gS25pZ2h0c1wiLFxuICAgICAgY29udGVudDogXCJUaGUgYmVzdCBsZWdvIHRveSBzZXQgaW4gdGhlIHdvcmxkLlwiLFxuICAgICAgY3JlYXRlZEF0OiBcIjIwMTYtMDktMTFUMDc6NDc6MzAuMDAwWlwiLFxuICAgICAgdXBkYXRlZEF0OiBcIjIwMTYtMDktMTFUMDc6NDc6MzAuMDAwWlwiXG4gICAgfSxcbiAgICB7IGlkOiAyLFxuICAgICAgdGl0bGU6IFwiRnJvbSBSZWR1eCBTdG9yZTogUmVhY3RcIixcbiAgICAgIGNvbnRlbnQ6IFwiQW4gYXdlc29tZSBKYXZhU2NyaXB0IGxpYnJhcnkgZnJvbSDigKZcIixcbiAgICAgIGNyZWF0ZWRBdDogXCIyMDE2LTA5LTExVDA3OjQ2OjU1LjAwMFpcIixcbiAgICAgIHVwZGF0ZWRBdDogXCIyMDE2LTA5LTExVDA3OjQ2OjU1LjAwMFpcIlxuICAgIH0sXG4gICAgeyBpZDogMSxcbiAgICAgIHRpdGxlOiBcIkZyb20gUmVkdXggU3RvcmU6IERlZXAgTGVhcm5pbmdcIixcbiAgICAgIGNvbnRlbnQ6IFwiVGhlIHVzZSBvZiBuZXVyYWwgbmV0d29ya3MgdG8gbGVhcm7igKZcIixcbiAgICAgIGNyZWF0ZWRBdDogXCIyMDE2LTA5LTExVDA3OjQ2OjI4LjAwMFpcIixcbiAgICAgIHVwZGF0ZWRBdDogXCIyMDE2LTA5LTExVDA3OjQ2OjI4LjAwMFpcIlxuICAgIH1cblxuICBdXG59O1xuXG4vLyBGdW5jdGlvbiB3aGljaCB0YWtlcyB0aGUgY3VycmVudCBkYXRhIHN0YXRlIGFuZCBhbiBhY3Rpb24sXG4vLyBhbmQgcmV0dXJucyBhIG5ldyBzdGF0ZVxuZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7XG4gIHN0YXRlID0gc3RhdGUgfHwgaW5pdGlhbFN0YXRlO1xuICBhY3Rpb24gPSBhY3Rpb24gfHwge307XG5cbiAgc3dpdGNoKGFjdGlvbi50eXBlKSB7XG4gICAgLy8gSW5zZXJ0cyBuZXcgcG9zdHMgaW50byB0aGUgbG9jYWwgc3RvcmVcbiAgICBjYXNlIElOU0VSVDoge1xuXG5cbiAgICAgIC8vIEFkZCBpbiB0aGUgbmV3IHBvc3RzXG4gICAgICAvLyBOb3RpY2UgdGhhdCB3ZSBkbyBub3QgbmVlZCB0byBpbmNyZW1lbnQgdGhlIHBvc3QgaWQuIFNpbmNlIHRoZSBwb3N0IHRoYXQgd2VcbiAgICAgIC8vIGFyZSBwdXR0aW5nIGluIGlzIG9uZSB0aGF0IGlzIHJldHVybmVkIGJ5IHRoZSBhcGkgc2VydmVyIHdoaWNoIGFscmVhZHkgaGFzXG4gICAgICAvLyB0aGUgaWQgaW5jcmVtZW50ZWQuXG4gICAgICBjb25zdCB1bnNvcnRlZFBvc3RzID0gXy5jb25jYXQoc3RhdGUudmlzaWJsZVBvc3RzLCBhY3Rpb24ucG9zdHMpO1xuXG4gICAgICBjb25zdCB2aXNpYmxlUG9zdHMgPSBfLm9yZGVyQnkodW5zb3J0ZWRQb3N0cywgJ2NyZWF0ZWRBdCcsJ2Rlc2MnKTtcblxuICAgICAgLy8gUmV0dXJuIHVwZGF0ZWQgc3RhdGVcbiAgICAgIHJldHVybiBfLmFzc2lnbih7fSwgc3RhdGUsIHsgdmlzaWJsZVBvc3RzfSApO1xuICAgIH1cbiAgICAvLyBDaGFuZ2VzIGEgc2luZ2xlIHBvc3QncyBkYXRhIGluIHRoZSBsb2NhbCBzdG9yZVxuICAgIGNhc2UgQ0hBTkdFOiB7XG4gICAgICBjb25zdCB2aXNpYmxlUG9zdHMgPSBfLmNsb25lKHN0YXRlLnZpc2libGVQb3N0cyk7XG4gICAgICBjb25zdCBjaGFuZ2VkSW5kZXggPSBfLmZpbmRJbmRleChzdGF0ZS52aXNpYmxlUG9zdHMsIHtpZDogYWN0aW9uLnBvc3QuaWQgfSlcbiAgICAgIHZpc2libGVQb3N0c1tjaGFuZ2VkSW5kZXhdID0gYWN0aW9uLnBvc3Q7XG4gICAgICByZXR1cm4gXy5hc3NpZ24oe30sIHN0YXRlLCB7IHZpc2libGVQb3N0cyB9KTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmVzIGEgc2luZ2xlIHBvc3QgZnJvbSB0aGUgdmlzaWJsZSBwb3N0IGxpc3RcbiAgICBjYXNlIFJFTU9WRToge1xuICAgICAgY29uc3QgdmlzaWJsZVBvc3RzID0gXy5yZWplY3Qoc3RhdGUudmlzaWJsZVBvc3RzLCB7aWQ6IGFjdGlvbi5pZH0pO1xuICAgICAgcmV0dXJuIF8uYXNzaWduKHt9LCBzdGF0ZSwgeyB2aXNpYmxlUG9zdHMgfSk7XG4gICAgfVxuXG4gICAgZGVmYXVsdDogcmV0dXJuIHN0YXRlO1xuICB9XG59XG5cbi8vIE5vdyB3ZSBkZWZpbmUgYSB3aG9sZSBidW5jaCBvZiBhY3Rpb24gY3JlYXRvcnNcblxuLy8gSW5zZXJ0cyBwb3N0cyBpbnRvIHRoZSBwb3N0IGxpc3RcbnJlZHVjZXIuaW5zZXJ0UG9zdHMgPSAocG9zdHMpID0+IHtcbiAgcmV0dXJuIHsgdHlwZTogSU5TRVJULCBwb3N0cyB9O1xufTtcblxuLy8gUmVtb3ZlcyBhIHBvc3QgZnJvbSB0aGUgdmlzaWJsZSBwb3N0IGxpc3RcbnJlZHVjZXIucmVtb3ZlUG9zdCA9IChpZCkgPT4ge1xuICByZXR1cm4geyB0eXBlOiBSRU1PVkUsIGlkIH07XG59O1xuXG4vLyBBdHRlbXB0cyB0byBkZWxldGUgYSBwb3N0IGZyb20gdGhlIHNlcnZlciBhbmQgcmVtb3ZlcyBpdCBmcm9tIHRoZSB2aXNpYmxlXG4vLyBwb3N0IGxpc3QgaWYgc3VjY2Vzc2Z1bFxucmVkdWNlci5kZWxldGVQb3N0ID0gKHBvc3RJZCkgPT4ge1xuICAgLy8gVE9ETyBTZWN0aW9uIDg6IEFkZCBjb2RlIHRvIHBlcmZvcm0gZGVsZXRlXG4gICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICBhcGkuZGVsZXRlKCcvcG9zdHMvJyArIHBvc3RJZCkudGhlbigoKSA9PiB7XG4gICBkaXNwYXRjaChyZWR1Y2VyLnJlbW92ZVBvc3QocG9zdElkKSk7XG4gICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgYWxlcnQoJ0ZhaWxlZCB0byBkZWxldGUgcG9zdC4nKTtcbiAgIH0pO1xuICAgfTtcbn07XG5cbi8vIEF0dGVtcHRzIHRvIHVwZGF0ZSBhIHBvc3Qgb24gdGhlIHNlcnZlciBhbmQgdXBkYXRlcyBsb2NhbCBwb3N0IGRhdGEgaWZcbi8vIHN1Y2Nlc3NmdWxcbnJlZHVjZXIuc2F2ZVBvc3QgPSAoZWRpdGVkUG9zdCwgY2FsbGJhY2spID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIGFwaS5wdXQoJy9wb3N0cy8nICsgZWRpdGVkUG9zdC5pZCwgZWRpdGVkUG9zdCkudGhlbigocG9zdCkgPT4ge1xuICAgICAgLy8gU2F2ZXMgbG9jYWwgcG9zdC5cbiAgICAgIGRpc3BhdGNoKHJlZHVjZXIuY2hhbmdlUG9zdChwb3N0KSk7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gc2F2ZSBwb3N0LiAgQXJlIGFsbCBvZiB0aGUgZmllbGRzIGZpbGxlZCBpbiBjb3JyZWN0bHk/Jyk7XG4gICAgfSk7XG4gIH07XG59O1xuXG4vLyBBdHRlbXB0cyB0byBjcmVhdGUgYSBwb3N0IG9uIHRoZSBzZXJ2ZXIgYW5kIGluc2VydHMgaXQgaW50byB0aGUgbG9jYWwgcG9zdFxuLy8gbGlzdCBpZiBzdWNjZXNzZnVsXG5yZWR1Y2VyLmNyZWF0ZVBvc3QgPSAobmV3UG9zdCwgY2FsbGJhY2spID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIGFwaS5wb3N0KCcvcG9zdHMnLCBuZXdQb3N0KS50aGVuKChwb3N0KSA9PiB7XG4gICAgICAvLyBUaGlzIHBvc3QgaXMgb25lIHRoYXQgdGhlIHN0b3JlIHJldHVybnMgdXMhIEl0IGhhcyBwb3N0IGlkIGluY3JlbWVudGVkIHRvIHRoZSBuZXh0IGF2YWlsYWJsZSBpZFxuICAgICAgZGlzcGF0Y2gocmVkdWNlci5pbnNlcnRQb3N0cyhbcG9zdF0pKTtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgYWxlcnQoJ0ZhaWxlZCB0byBjcmVhdGUgcG9zdC4gQXJlIGFsbCBvZiB0aGUgZmllbGRzIGZpbGxlZCBpbiBjb3JyZWN0bHk/Jyk7XG4gICAgfSk7XG4gIH07XG59O1xuXG4vLyBDaGFuZ2VzIGxvY2FsIHBvc3QgZGF0YVxucmVkdWNlci5jaGFuZ2VQb3N0ID0gKHBvc3QpID0+IHtcbiAgcmV0dXJuIHsgdHlwZTogQ0hBTkdFLCBwb3N0IH07XG59O1xuXG4vLyBBdHRlbXB0cyB0byBsb2FkIG1vcmUgcG9zdHMgZnJvbSB0aGUgc2VydmVyIGFuZCBpbnNlcnRzIHRoZW0gaW50byB0aGUgbG9jYWxcbi8vIHBvc3QgbGlzdCBpZiBzdWNjZXNzZnVsXG5yZWR1Y2VyLmxvYWRNb3JlUG9zdHMgPSAoY2FsbGJhY2spID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IF8uYXNzaWduKHt9LCBpbml0aWFsU3RhdGUsIGdldFN0YXRlKCkucG9zdHMpO1xuXG4gICAgbGV0IHBhdGggPSAnL3Bvc3RzJztcbiAgICBpZiAoc3RhdGUudmlzaWJsZVBvc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3Qgb2xkZXN0UG9zdCA9Xy5sYXN0KHN0YXRlLnZpc2libGVQb3N0cyk7XG4gICAgICAgIHBhdGggPSAnL3Bvc3RzP29sZGVyVGhhbj0nICsgb2xkZXN0UG9zdC5jcmVhdGVkQXQ7XG4gICAgfVxuICAgIGFwaS5nZXQocGF0aCkudGhlbigobmV3UG9zdHMpID0+IHtcbiAgICAgIGRpc3BhdGNoKHJlZHVjZXIuaW5zZXJ0UG9zdHMobmV3UG9zdHMpKTtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgYWxlcnQoJ0ZhaWxlZCB0byBsb2FkIG1vcmUgcG9zdHMnKTtcbiAgICAgIGNhbGxiYWNrKCdGYWlsZWQgdG8gbG9hZCBtb3JlIHBvc3RzJyk7XG4gICAgfSk7XG5cbiAgfTtcblxuXG59O1xuXG4vLyBFeHBvcnQgdGhlIGFjdGlvbiBjcmVhdG9ycyBhbmQgcmVkdWNlclxubW9kdWxlLmV4cG9ydHMgPSByZWR1Y2VyO1xuIiwiY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG5jb25zdCBVUERBVEUgPSAnYmxvZy1mcm9udGVuZC90aW1lL1VQREFURSc7XG5cbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICBzdGF0ZSA9IHN0YXRlIHx8IHt9O1xuICBhY3Rpb24gPSBhY3Rpb24gfHwgeyB0eXBlOiBudWxsIH07XG5cbiAgc3dpdGNoKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBVUERBVEU6IHtcbiAgICAgIHJldHVybiBfLmFzc2lnbih7fSwgc3RhdGUsIHsgbm93OiBhY3Rpb24udGltZU5vdyB9KTtcbiAgICB9IGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cblxucmVkdWNlci5zZXRDdXJyZW50VGltZSA9IGZ1bmN0aW9uKHRpbWVOb3cpIHtcbiAgcmV0dXJuIHsgdHlwZTogVVBEQVRFLCB0aW1lTm93IH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gcmVkdWNlcjtcbiJdfQ=="}